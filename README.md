## Frontend Interaction Example
[Click here](https://claude.site/artifacts/04aa777a-a64d-44cc-aa63-f8a3cb22ceb9)





# Edu Chain: "Learn Own Earn" Framework for Tree Planting Education

## Overview

Edu Chain’s "Learn Own Earn" framework empowers individuals in underrepresented regions—specifically women and children in Africa—to learn about sustainable tree planting, gain ownership of their own trees, and earn rewards through their environmental contributions. This solution integrates Open Campus ID, Capybara NFTs, and blockchain technology within the Edu Chain ecosystem, offering an innovative and transparent way for learners to interact with educational content, track their progress, and gain financial and environmental benefits.

---

## Key Features

- **Open Campus ID**: Provides learners with a unique, decentralized digital identity, allowing for secure tracking of their learning achievements and tree ownership.
- **Capybara NFTs**: Represents ownership of a tree or forest plot, offering digital proof of participation in tree planting initiatives.
- **Blockchain Integration**: Ensures secure, transparent ownership records of trees, as well as the ability to earn and trade carbon credits.
- **Sustainable Learning Modules**: An interactive curriculum covering topics such as tree species identification, ecosystem stewardship, and carbon credit trading.
- **Offline Accessibility**: Allows users to learn and track progress without the need for continuous internet connectivity.

---

## Goals

- **Empowerment**: Equip women and children with the knowledge, skills, and tools to actively engage in environmental restoration and biodiversity conservation.
- **Education**: Provide accessible, multilingual, and engaging educational content on sustainable forestry and climate action.
- **Ownership & Earnings**: Allow learners to own trees (tracked via NFTs) and earn rewards through their contributions to carbon sequestration and ecosystem restoration.
- **Community Engagement**: Build a decentralized, community-driven ecosystem that rewards users for their environmental and educational efforts.

---

## Workflow

### 1. **Learning Modules**
   Learners begin their journey with a series of interactive learning modules:
   - **Module 1**: Tree Species Identification
   - **Module 2**: Tree Care Techniques (Pruning, Watering, Disease Prevention)
   - **Module 3**: Biodiversity and Ecosystem Health
   - **Module 4**: Property Rights and Ownership in Forestry
   - **Module 5**: Carbon Credit Economics and Marketplaces
   - **Module 6**: Real-World Tree Planting and Maintenance
   
   **Objective**: Complete the learning modules to gain knowledge about sustainable tree planting and environmental stewardship.

### 2. **Ownership (via Capybara NFTs)**
   After completing learning milestones, users receive **Capybara NFTs** that represent ownership of a tree or plot of land. These NFTs are linked to:
   - A **specific tree species** (e.g., African Baobab, Mangrove, etc.)
   - A **unique tree ID** that tracks its growth and carbon sequestration capacity
   - **Ownership rights**, granting users digital proof of their tree ownership
   
   **Objective**: Own a digital asset (NFT) that corresponds to a real-world tree.

### 3. **Earning through Carbon Credits**
   As trees grow, they contribute to biodiversity and carbon sequestration, which can be translated into **carbon credits**. The credits can be:
   - Tracked on the blockchain
   - Sold or traded on a dedicated marketplace
   - Used to unlock additional learning content or rewards
   
   **Objective**: Earn rewards based on the environmental impact of the owned trees, including carbon credits.

---

## Technical Architecture

### 1. **Edu Chain Blockchain**
   - **Decentralized Platform**: Provides transparency and immutability for tracking ownership and educational achievements.
   - **Smart Contracts**: Automates the creation of NFTs, carbon credit tracking, and transaction management (e.g., when NFTs are bought/sold or when rewards are issued).
   - **Carbon Credit Marketplace**: A peer-to-peer platform that enables users to trade or sell carbon credits based on their tree’s environmental impact.

### 2. **Open Campus ID**
   - **Identity Management**: A decentralized digital identity that verifies users' educational achievements, tree ownership, and involvement in carbon credit transactions.
   - **Progress Tracking**: Tracks a learner’s progression through the course and ownership of trees.

### 3. **Capybara NFT**
   - **NFT Standards**: Built on widely-adopted standards (e.g., ERC-721) to ensure interoperability and security.
   - **Tree Attributes**: Each NFT holds metadata that represents the tree’s species, ownership status, and associated carbon credits.
   - **Integration with Edu Chain**: NFTs are tied to learners' Open Campus ID and displayed in their portfolios.

### 4. **Offline Learning & Mobile Access**
   - **Mobile-first Design**: Optimized for mobile devices to ensure access for users in rural or underserved regions.
   - **Offline Capabilities**: Learners can download educational materials, complete courses offline, and sync their progress once connected to the internet.

---

## How It Works for Learners

1. **Enroll in the Program**:
   - Create an Open Campus ID to get started and track learning progress.
   - Select a learning path based on interest or region.

2. **Complete Learning Modules**:
   - Watch videos, take quizzes, and engage in hands-on activities related to tree planting and ecosystem stewardship.

3. **Receive Capybara NFTs**:
   - Upon completing the modules, learners are awarded NFTs representing real trees.
   - These NFTs can be linked to the Edu Chain platform to verify ownership.

4. **Participate in Real-World Tree Planting**:
   - Engage in local tree planting projects organized by Edu Chain’s NGO and governmental partners.
   - Each physical tree planted is mapped to a learner’s NFT, linking real-world actions to digital assets.

5. **Earn Rewards and Carbon Credits**:
   - As the trees grow, they accumulate carbon credits based on their ecological contributions.
   - Learners can trade or sell carbon credits, unlocking further benefits and rewards.

---

## Challenges & Considerations

### 1. **Digital Literacy & Accessibility**
   - **Solution**: Build a user-friendly interface that requires minimal tech knowledge. Provide in-person or remote workshops to teach users how to interact with the system.
   - **Challenge**: Limited internet connectivity in rural areas.
   - **Solution**: Enable offline learning and periodic syncing for users with intermittent internet access.

### 2. **Ownership Verification & Legal Framework**
   - **Solution**: Collaborate with local governments to establish legal frameworks for tree ownership linked to NFTs and carbon credits.

### 3. **Economic Viability**
   - **Solution**: Develop partnerships with environmental organizations and corporations that are interested in purchasing carbon credits or sponsoring educational content.

### 4. **Long-term Engagement**
   - **Solution**: Implement gamification elements to maintain user engagement, such as levels, leaderboards, and rewards based on long-term tree health and carbon sequestration.

---

## Conclusion

The **Edu Chain "Learn Own Earn" Framework** presents an innovative solution to sustainable tree planting education, providing women and children in Africa with the knowledge, ownership, and financial incentives needed to drive real-world environmental change. By integrating blockchain technology, NFTs, and carbon credit markets, this program not only teaches valuable skills but also empowers individuals to take ownership of the planet’s future.

Together, we can make a significant impact on global climate action while creating a sustainable, decentralized ecosystem that rewards education and environmental stewardship.

---

## Get Involved

- **For Learners**: Sign up to start your tree planting journey today!
- **For Partners & Sponsors**: Join us in supporting sustainable education and carbon offsetting initiatives.
- **For Developers**: Contribute to the Edu Chain platform and help build the future of climate literacy.

--- 

**Edu Chain** is committed to sustainability, community empowerment, and climate action for a greener future.



### Edu Chain "Learn Own Earn" Framework for Tree Planting Education with Carbon Credit Integration

#### **Overview**

In this enhanced framework, **learning participants** on the Edu Chain platform will assume the role of **forest rangers**, focusing on the **non-carbon credit earnings** related to tree ownership, such as tree seed sales, fruit sales, and biodiversity maintenance. In contrast, the **carbon credits** associated with the trees will be allocated to the **players** who win tree NFTs through DropIn's **Lotto** mechanism. The **true ownership** of trees (including the carbon credit rights) remains with the Lotto-winning players, but **learners** gain ownership of the **non-carbon credit earnings** from the trees they nurture.

This integrated system provides a comprehensive, decentralized approach to tree planting education while ensuring that both **carbon credit income** and **non-carbon credit income** are properly managed and tracked on-chain.

---

### **Key Concepts and Workflow**

1. **Learners as Forest Rangers (Non-carbon Credit Earnings)**
   - Learners will participate in educational content to acquire knowledge on:
     - **Tree species identification**
     - **Tree care techniques** (pruning, watering, disease management)
     - **Biodiversity and ecosystem health**
     - **Non-carbon credit earnings** from tree-related activities (e.g., seed sales, fruit sales)
   
   - Upon completing the course, learners will be awarded **Edu Chain NFTs**, representing their status as **forest rangers** with a specific tree to care for. These NFTs are linked to **non-carbon income** such as:
     - **Tree seeds**: Learners can sell or trade seeds harvested from trees they maintain.
     - **Fruits or other products**: Learners can sell fruits, nuts, or other tree-related products.
     - **Biodiversity services**: Revenue generated from maintaining biodiversity (e.g., pollinator attraction, ecosystem restoration).

2. **Lotto Players (Carbon Credit Ownership)**
   - Players who participate in the **DropIn Lotto** will receive tree NFTs linked to specific trees (defined by:
     - **Geolocation** (latitude, longitude)
     - **Tree species**
     - **Unique tree identifier** (e.g., tree ID or plot number)
   
   - These tree NFTs will represent the **carbon credit ownership** of the trees. Carbon credits are generated by the trees over time, and these NFTs will allow the **Lotto winners** to:
     - **Accumulate carbon credits** based on their tree’s carbon sequestration.
     - **Trade or sell carbon credits** on a marketplace for revenue.
     - **Track the growth and impact** of their trees, including geo-tagging and environmental data.

3. **Edu Chain NFT Integration**
   - **Edu Chain NFTs** will be directly linked to both:
     - **Non-carbon credit earnings** (such as seed and fruit sales).
     - **Carbon credit ownership**: Each NFT will be associated with a specific tree and linked to **Lotto-winner’s** carbon credit ownership.
   - **Unique ID Mapping**: Each Edu Chain NFT (learner's forest ranger identity) and tree NFT (Lotto winner’s carbon ownership) will be linked on-chain to the tree’s **geolocation**, **species**, and **unique identifier**. This ensures that the data is tamper-proof and transparent.

4. **NFT and Blockchain Technology**
   - **NFTs (Non-Fungible Tokens)**: Built on ERC-721 or ERC-1155 standards to ensure uniqueness, security, and interoperability across different platforms.
     - **Learner NFTs**: Represent ownership of **non-carbon credits** and forest ranger responsibilities (seeds, fruits, biodiversity maintenance).
     - **Lotto NFTs**: Represent **carbon credits** and ownership of trees' environmental impact (carbon sequestration).
   - **Smart Contracts**: Used to automate carbon credit generation, carbon credit sales, and reward distribution. These contracts also enforce the mapping between the **tree NFTs** and **Edu Chain NFTs** to ensure that the **carbon credits** generated from the trees are allocated to the appropriate Lotto winner’s address.

---

### **Detailed Design: Integration of Edu Chain & DropIn**

1. **NFT Ownership and Carbon Credit Allocation**

   - Each **tree NFT** issued through DropIn’s Lotto mechanism will be linked to a **tree's location, species, and unique ID**.
   - The **learner’s forest ranger NFT** will be associated with:
     - **The same tree's location** (as indicated by the Lotto tree NFT’s geolocation).
     - The **non-carbon revenue generated by the tree** (e.g., seed and fruit sales, biodiversity incentives).
   
   - **Carbon credit ownership** will reside with the **Lotto winner’s wallet**.
     - Carbon credits will be generated on-chain and stored in the wallet tied to the Lotto winner’s **tree NFT**.
     - **Learners** will not have access to the carbon credits but will benefit from **non-carbon income** via sales and services related to tree care.

2. **Tracking Tree Growth and Carbon Sequestration**

   - Each tree’s **carbon sequestration potential** will be recorded as metadata in the **Lotto NFT** (e.g., CO2 sequestered annually).
   - **Geolocation** and **tree species** will also be recorded as part of the metadata to enable efficient monitoring and tracking of environmental impact.

   - **Learner’s NFT** will reflect the following data:
     - Tree identification (linked to tree NFT).
     - Non-carbon earnings such as **seed sales**, **fruit sales**, and **maintenance rewards**.
     - **Biodiversity maintenance earnings**.

3. **Edu Chain Interaction with Carbon Credit Marketplace**

   - **Carbon Credits**: Carbon credits are issued to the **Lotto winner’s wallet** based on tree growth.
   - **Marketplace**: These credits can be traded or sold in an on-chain carbon credit marketplace.
     - **Transaction transparency**: All trades and sales are recorded on the blockchain.
   
   - **Edu Chain Learners** will interact with the platform to manage their **non-carbon earnings**. They will have access to:
     - Seed and fruit sales.
     - Selling biodiversity services or tree maintenance expertise.
   
   - **Rewards**: The **Lotto winner** can also reward the **learners** through microtransactions for exceptional tree care or ecosystem management.

4. **Geospatial Mapping and On-Chain Metadata**

   - The **location of each tree** will be tracked via **geospatial data** (latitude and longitude) on the blockchain.
   - The tree’s **species**, **ID**, and **carbon sequestration rate** will be stored as immutable metadata, ensuring that each **tree NFT** is linked to a **specific geographic location** and **climate-related data**.
   - **Learners** can access this data to track the environmental impact of the trees they care for, but the ownership of the **carbon credits** remains with the **Lotto players**.

---

### **Challenges and Considerations**

1. **Data Accuracy & Monitoring**:
   - Ensuring the accuracy of **geospatial data** and **carbon sequestration rates** will require collaboration with environmental scientists and blockchain developers to implement robust monitoring mechanisms.
   - Challenge: **Remote geolocation verification** of trees, especially in rural or undeveloped areas. 

   - **Solution**: Collaborate with local environmental organizations to monitor the progress of trees, using drones, IoT sensors, or other tracking technologies for real-time data collection.

2. **Legal Ownership**:
   - The **carbon credit rights** will belong to the **Lotto winner**, but **non-carbon rights** (seed and fruit sales) will belong to the **learners**.
   - **Legal Framework**: A legal framework needs to be established for tree ownership and carbon credits in different regions, especially in **Africa**, where these initiatives are being implemented.
   
3. **User Adoption**:
   - To ensure broad participation, **offline access** for educational content will need to be optimized, especially in areas with limited internet access.
   - **Solution**: Allow for offline learning modules and syncing of data when an internet connection becomes available.

---

### **Conclusion**

This **Edu Chain + DropIn** integrated solution creates a sustainable ecosystem where learners, Lotto players, and local communities work together to address environmental challenges, generate income, and create a decentralized, transparent platform for **tree ownership**, **carbon credit management**, and **biodiversity preservation**.

By integrating blockchain, NFTs, and carbon credits, we can empower **learners** to care for the environment, while **Lotto winners** can benefit from carbon sequestration and trade carbon credits to support global climate action. This model ensures that everyone—whether a **learner**, **tree owner**, or **community member**—has the opportunity to contribute to a sustainable, profitable, and eco-friendly future.

### Top-Level Smart Contract Design for Edu Chain: Tree Planting Education & Carbon Credit Management

The following smart contract will be developed on a platform that supports Ethereum-compatible smart contracts, such as **Ethereum**, **Polygon**, or **Binance Smart Chain (BSC)**. We'll use **Solidity** as the language to develop these contracts.

The main components of the smart contract are:

1. **Tree NFT** for Lotto winners (carbon credit ownership).
2. **Forest Ranger NFT** for learners (non-carbon credit earnings).
3. **Carbon Credit Management** linked to Lotto-winning Tree NFTs.
4. **Non-carbon Credit Earnings** tied to Forest Ranger NFTs (seed sales, fruit sales, biodiversity services).
5. **Geospatial Data Integration** to track tree geolocation (latitude, longitude).
6. **Educational Content Access** for learners.
7. **Marketplace** for the sale of non-carbon credits (seeds, fruits, etc.).
8. **Reward System** for learners based on their tree care activities.

---

### **1. Tree NFT Contract (for Lotto Winners)**

This contract represents the tree that generates carbon credits, tracked by geolocation and species.

```solidity
// SPDX-License-Identifier: MIT
pragma solidity ^0.8.0;

import "@openzeppelin/contracts/token/ERC721/extensions/ERC721URIStorage.sol";
import "@openzeppelin/contracts/access/Ownable.sol";

contract TreeNFT is ERC721URIStorage, Ownable {
    uint256 private nextTokenId;
    mapping(uint256 => uint256) public carbonCredits; // Tree Token ID -> Carbon Credit
    mapping(uint256 => string) public treeSpecies; // Tree Token ID -> Tree Species
    mapping(uint256 => string) public treeLocation; // Tree Token ID -> Geolocation (latitude, longitude)

    constructor() ERC721("TreeNFT", "TNFT") {}

    // Mint a new Tree NFT (Lotto winner receives it)
    function mintTreeNFT(address to, string memory uri, string memory species, string memory location) external onlyOwner {
        uint256 tokenId = nextTokenId++;
        _safeMint(to, tokenId);
        _setTokenURI(tokenId, uri);
        treeSpecies[tokenId] = species;
        treeLocation[tokenId] = location;
    }

    // Record Carbon Credit for the Tree
    function addCarbonCredits(uint256 tokenId, uint256 credits) external onlyOwner {
        carbonCredits[tokenId] += credits;
    }

    // Get Carbon Credit of a specific Tree
    function getCarbonCredits(uint256 tokenId) external view returns (uint256) {
        return carbonCredits[tokenId];
    }

    // Get the location of the tree
    function getTreeLocation(uint256 tokenId) external view returns (string memory) {
        return treeLocation[tokenId];
    }

    // Get the species of the tree
    function getTreeSpecies(uint256 tokenId) external view returns (string memory) {
        return treeSpecies[tokenId];
    }
}
```

---

### **2. Forest Ranger NFT Contract (for Learners)**

This contract represents the learner's NFT, linking them to non-carbon-related earnings (seed sales, fruit sales, biodiversity services).

```solidity
// SPDX-License-Identifier: MIT
pragma solidity ^0.8.0;

import "@openzeppelin/contracts/token/ERC721/extensions/ERC721URIStorage.sol";
import "@openzeppelin/contracts/access/Ownable.sol";

contract ForestRangerNFT is ERC721URIStorage, Ownable {
    uint256 private nextTokenId;
    mapping(uint256 => uint256) public nonCarbonCredits; // Forest Ranger NFT ID -> Non-carbon Credit Earnings (e.g., seed sales)
    mapping(uint256 => uint256) public treeOwnership; // Forest Ranger NFT ID -> Associated Tree NFT ID

    constructor() ERC721("ForestRangerNFT", "FRNFT") {}

    // Mint a new Forest Ranger NFT (Learner receives it after completing the course)
    function mintForestRangerNFT(address to, string memory uri, uint256 treeNFTId) external onlyOwner {
        uint256 tokenId = nextTokenId++;
        _safeMint(to, tokenId);
        _setTokenURI(tokenId, uri);
        treeOwnership[tokenId] = treeNFTId;
    }

    // Award non-carbon credit earnings to a learner (e.g., seed sales, fruit sales)
    function awardNonCarbonCredits(uint256 tokenId, uint256 credits) external onlyOwner {
        nonCarbonCredits[tokenId] += credits;
    }

    // Get Non-carbon Credits of a specific Forest Ranger NFT
    function getNonCarbonCredits(uint256 tokenId) external view returns (uint256) {
        return nonCarbonCredits[tokenId];
    }

    // Get the tree ownership associated with a specific Forest Ranger NFT
    function getTreeOwnership(uint256 tokenId) external view returns (uint256) {
        return treeOwnership[tokenId];
    }
}
```

---

### **3. Carbon Credit Marketplace Contract**

This contract allows the Lotto winners (Tree NFT holders) to sell their carbon credits, and for learners to track their non-carbon credits.

```solidity
// SPDX-License-Identifier: MIT
pragma solidity ^0.8.0;

import "@openzeppelin/contracts/token/ERC20/IERC20.sol";
import "@openzeppelin/contracts/access/Ownable.sol";

contract CarbonCreditMarketplace is Ownable {
    IERC20 public carbonCreditToken; // Token for Carbon Credit
    mapping(address => uint256) public carbonCreditBalances;

    // Event emitted when a carbon credit is bought/sold
    event CarbonCreditTrade(address indexed buyer, uint256 amount);

    constructor(address _carbonCreditToken) {
        carbonCreditToken = IERC20(_carbonCreditToken);
    }

    // Buy carbon credits for a specific amount
    function buyCarbonCredits(address seller, uint256 amount) external {
        require(carbonCreditBalances[seller] >= amount, "Insufficient carbon credits");

        carbonCreditToken.transferFrom(msg.sender, seller, amount); // Buyer pays seller
        carbonCreditBalances[seller] -= amount;
        carbonCreditBalances[msg.sender] += amount;

        emit CarbonCreditTrade(msg.sender, amount);
    }

    // Sell carbon credits (increases seller's balance)
    function sellCarbonCredits(uint256 amount) external {
        require(carbonCreditBalances[msg.sender] >= amount, "Insufficient carbon credits");
        carbonCreditBalances[msg.sender] -= amount;
        carbonCreditBalances[address(this)] += amount;
    }

    // Get the balance of carbon credits for a specific user
    function getCarbonCreditBalance(address user) external view returns (uint256) {
        return carbonCreditBalances[user];
    }
}
```

---

### **4. Reward System for Learners**

This contract tracks learners' activities and rewards them for their tree care efforts, such as maintaining biodiversity.

```solidity
// SPDX-License-Identifier: MIT
pragma solidity ^0.8.0;

import "@openzeppelin/contracts/access/Ownable.sol";
import "@openzeppelin/contracts/token/ERC20/IERC20.sol";

contract LearnerRewardSystem is Ownable {
    IERC20 public rewardToken; // Token for non-carbon credits (e.g., reward points for learners)
    mapping(address => uint256) public learnerRewards;

    event RewardAwarded(address indexed learner, uint256 rewardAmount);

    constructor(address _rewardToken) {
        rewardToken = IERC20(_rewardToken);
    }

    // Reward a learner for tree care efforts or biodiversity maintenance
    function awardReward(address learner, uint256 rewardAmount) external onlyOwner {
        learnerRewards[learner] += rewardAmount;
        rewardToken.transfer(learner, rewardAmount); // Transfer the reward to the learner

        emit RewardAwarded(learner, rewardAmount);
    }

    // Check reward balance of a learner
    function getLearnerRewardBalance(address learner) external view returns (uint256) {
        return learnerRewards[learner];
    }
}
```

---

### **5. Geospatial Data Integration (Geolocation)**

This feature allows storing the tree's geographical data (latitude and longitude) to ensure accurate tracking.

In this design, the geospatial data (latitude and longitude) of each tree will be stored within the Tree NFT contract as metadata (as `treeLocation`).

---

### **Deployment and Integration**

1. **Mint Tree NFTs**: 
   - The **DropIn Lotto** will mint Tree NFTs and distribute them to the Lotto winners, who will then own the associated **carbon credits**.
   - Each Tree NFT is linked to a **location** and **species**, along with its **carbon credit generation**.

2. **Mint Forest Ranger NFTs**:
   - After completing the educational module, **learners** will receive a Forest Ranger NFT.
   - This NFT is associated with a specific tree, and learners will gain ownership of **non-carbon credits** from activities like **seed sales**, **fruit sales**, and **biodiversity services**.

3. **Non-carbon Credit Earnings**:
   - The contract will enable learners to accumulate rewards based on their **tree care** activities.
   - Rewards will be distributed via **ERC-20 tokens** (could be used for both reward points and other ecosystem participation incentives).

4. **Carbon Credit Marketplace**:
   - A **decentralized marketplace** where Lotto winners can sell their carbon credits, tracking the transaction with the `CarbonCreditMarketplace` contract.

5. **Tracking and Reporting**:
   - Geospatial data ensures accurate and transparent tracking of tree location and environmental impact.

---

### Conclusion

This setup uses **ERC-721** NFTs for both **carbon credit ownership** (Lotto winners) and **non-carbon credit earnings** (learners) and incorporates a **reward system** for learners. **Geospatial data** ensures transparency in tree care and carbon credit management, while **smart contracts** facilitate a seamless interaction between learners, Lotto winners, and carbon credit marketplaces.


To build the **Edu Chain Integration** based on **Open Campus ID**, **Capybara NFTs**, and the **Tree Planting Education** curriculum, we'll define the contract structure that mirrors the workflows and modules described earlier.

Here is a breakdown of each contract/module with its corresponding workflow and functionality. The **Edu Chain** integration connects these elements to ensure a cohesive experience for learners, NFT owners, and stakeholders involved in tree planting and biodiversity management.

### **1. Open Campus ID (Soulbound Token)**

This contract will manage the issuance of learner IDs as **soulbound tokens (SBTs)**, which are non-transferable, ensuring that credentials are tied to the learner's identity and cannot be sold or transferred.

#### **Contract: `OpenCampusID.sol`**

```solidity
// SPDX-License-Identifier: MIT
pragma solidity ^0.8.0;

import "@openzeppelin/contracts/token/ERC721/extensions/ERC721URIStorage.sol";
import "@openzeppelin/contracts/access/Ownable.sol";

contract OpenCampusID is ERC721URIStorage, Ownable {

    uint256 public currentId;
    mapping(uint256 => string) public learnerData;

    constructor() ERC721("OpenCampusID", "OCID") {}

    // Issue a new learner ID (SBT) to the learner
    function mintOpenCampusID(address learner, string memory metadataURI) external onlyOwner {
        uint256 newId = currentId;
        _mint(learner, newId);
        _setTokenURI(newId, metadataURI);  // Learner profile URI
        currentId++;
    }

    // Record learner data (e.g., completed modules)
    function setLearnerData(uint256 tokenId, string memory data) external {
        require(ownerOf(tokenId) == msg.sender, "You are not the owner of this ID");
        learnerData[tokenId] = data;
    }

    // View learner data
    function getLearnerData(uint256 tokenId) external view returns (string memory) {
        return learnerData[tokenId];
    }
}
```

### **2. Capybara NFT (Tree Ownership)**

This contract is responsible for minting and managing the **Capybara NFTs**, which represent tree/land ownership or engagement in specific ecological projects. The NFTs also track the connection between learners and trees.

#### **Contract: `CapybaraNFT.sol`**

```solidity
// SPDX-License-Identifier: MIT
pragma solidity ^0.8.0;

import "@openzeppelin/contracts/token/ERC721/extensions/ERC721URIStorage.sol";
import "@openzeppelin/contracts/access/Ownable.sol";

contract CapybaraNFT is ERC721URIStorage, Ownable {

    uint256 public currentCapybaraId;
    mapping(uint256 => address) public treeOwnership;
    mapping(uint256 => string) public ecologicalProjects;

    constructor() ERC721("CapybaraNFT", "CAPY") {}

    // Mint a new Capybara NFT representing ownership of a tree or ecological project
    function mintCapybaraNFT(address owner, string memory metadataURI, string memory projectDetails) external onlyOwner {
        uint256 newId = currentCapybaraId;
        _mint(owner, newId);
        _setTokenURI(newId, metadataURI);  // Tree/project metadata URI
        ecologicalProjects[newId] = projectDetails;  // Link project details to NFT
        currentCapybaraId++;
    }

    // Link tree/land ownership to a learner
    function linkTreeToLearner(uint256 capybaraId, address learner) external onlyOwner {
        require(ownerOf(capybaraId) == learner, "Learner must own the Capybara NFT");
        treeOwnership[capybaraId] = learner;
    }

    // View ecological project tied to NFT
    function getEcologicalProject(uint256 capybaraId) external view returns (string memory) {
        return ecologicalProjects[capybaraId];
    }
}
```

### **3. Tree Planting Education & Progress**

This contract manages the educational curriculum, module progress, and certification of learners. It also integrates the learners' progress with the **Open Campus ID** and connects them to **Capybara NFTs** once specific milestones are reached.

#### **Contract: `TreePlantingEducation.sol`**

```solidity
// SPDX-License-Identifier: MIT
pragma solidity ^0.8.0;

import "./OpenCampusID.sol";
import "@openzeppelin/contracts/access/Ownable.sol";

contract TreePlantingEducation is Ownable {
    OpenCampusID public openCampusID;

    uint256 public totalModules;
    mapping(address => uint256) public learnerProgress; // Learner's progress
    mapping(address => bool) public learnerCertificates; // Whether certificate is earned

    constructor(address _openCampusID) {
        openCampusID = OpenCampusID(_openCampusID);
        totalModules = 5;  // Number of modules in the tree planting course
    }

    // Update learner's progress after completing a module
    function updateLearnerProgress(address learner, uint256 progress) external onlyOwner {
        require(progress <= totalModules, "Progress exceeds total modules");
        learnerProgress[learner] = progress;
    }

    // Issue certificate after completing all modules
    function issueCertificate(address learner) external onlyOwner {
        require(learnerProgress[learner] == totalModules, "Learner has not completed all modules");
        learnerCertificates[learner] = true;

        // Issue a certificate (e.g., as part of the OpenCampusID record)
        uint256 learnerId = uint256(keccak256(abi.encodePacked(learner, block.timestamp)));
        string memory certificateMetadata = "Certificate for tree planting course completion";
        openCampusID.setLearnerData(learnerId, certificateMetadata); // Record certificate on Open Campus ID
    }

    // Check if a learner has earned a certificate
    function hasCertificate(address learner) external view returns (bool) {
        return learnerCertificates[learner];
    }
}
```

### **4. Carbon Credit & Reward Distribution**

This contract is used for managing and distributing carbon credits and other rewards to learners. The learners can earn carbon credits based on the ecological projects they participate in (linked to **Capybara NFTs**). It will integrate carbon credit metrics, tree maintenance, and non-carbon-based earnings (e.g., seeds, fruits).

#### **Contract: `CarbonCredit.sol`**

```solidity
// SPDX-License-Identifier: MIT
pragma solidity ^0.8.0;

import "@openzeppelin/contracts/access/Ownable.sol";

contract CarbonCredit is Ownable {

    mapping(address => uint256) public carbonCredits; // Learner's carbon credits
    mapping(address => uint256) public nonCarbonRewards; // Non-carbon-based rewards

    event CarbonCreditIssued(address indexed learner, uint256 amount);
    event NonCarbonRewardIssued(address indexed learner, uint256 amount);

    // Issue carbon credits to a learner
    function issueCarbonCredits(address learner, uint256 amount) external onlyOwner {
        carbonCredits[learner] += amount;
        emit CarbonCreditIssued(learner, amount);
    }

    // Issue non-carbon rewards (seeds, fruits, etc.)
    function issueNonCarbonReward(address learner, uint256 amount) external onlyOwner {
        nonCarbonRewards[learner] += amount;
        emit NonCarbonRewardIssued(learner, amount);
    }

    // View learner's carbon credits
    function getCarbonCredits(address learner) external view returns (uint256) {
        return carbonCredits[learner];
    }

    // View learner's non-carbon rewards
    function getNonCarbonRewards(address learner) external view returns (uint256) {
        return nonCarbonRewards[learner];
    }
}
```

### **5. Integration of Modules with Workflow**

Here's how the **Edu Chain Integration** workflow and modules interact:

- **Learners** are issued an **Open Campus ID** (SBT) that stores their identity and progress in the platform.
- Upon completing specific milestones in the **Tree Planting Education** course, learners earn **Capybara NFTs** representing their ownership in trees or ecological projects.
- **Carbon Credit** rewards are distributed based on tree maintenance or ecological activities, rewarding learners for their participation in carbon sequestration efforts.
- Non-carbon rewards (such as seeds, fruits, etc.) are also issued for additional activities tied to tree care, which can be tracked using the **Carbon Credit** contract.

### **Workflow Diagram Overview**

1. **Learner Progress**: Learners complete modules on **Tree Planting Education** and receive an **Open Campus ID** as a record of their achievements.
2. **Capybara NFT**: Learners earn **Capybara NFTs** upon achieving tree ownership or participating in ecological projects.
3. **Carbon Credit Distribution**: After contributing to tree maintenance or ecological initiatives, learners are rewarded with **carbon credits**.
4. **Reward Mechanism**: Carbon and non-carbon-based rewards are tracked, distributed, and used for further engagement with the platform.

### **Next Steps**:
- **Deployment**: Deploy the smart contracts on the Edu Chain network.
- **User Interfaces**: Develop the UI for learners to track progress, manage NFTs, view certificates, and access rewards.
- **Expand Curriculum**: Add more learning modules, quizzes, and interactive content focused on environmental stewardship and sustainability.

This set of contracts and workflows creates a fully decentralized, transparent, and rewarding system for education, ecological participation, and tree planting, with blockchain-backed records ensuring trust, engagement, and sustainability.
